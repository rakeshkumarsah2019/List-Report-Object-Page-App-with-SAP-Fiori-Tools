"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const add_deploy_config_1 = require("./add-deploy-config");
const add_flp_config_1 = require("./add-flp-config");
const i18next_1 = __importDefault(require("i18next"));
var Artifact;
(function (Artifact) {
    Artifact["DeployConfig"] = "deploy-config";
    Artifact["FlpConfig"] = "flp-config";
})(Artifact = exports.Artifact || (exports.Artifact = {}));
/**
 * Supported artifacts for add command
 */
const handlers = {
    [Artifact.DeployConfig]: add_deploy_config_1.addDeployConfig,
    [Artifact.FlpConfig]: add_flp_config_1.addFlpConfig
};
/**
 * add command handler
 * @param args CLI arguments
 */
async function add(args) {
    const artifact = args[0];
    if (handlers[artifact]) {
        console.log(i18next_1.default.t('ADDING_ARTIFACT_TO_PROJECT', { artifact }));
        const result = await handlers[artifact](args.slice(1));
        if (result.added) {
            console.log(i18next_1.default.t('ARTIFACT_ADDED', { artifact }));
            if (result.postTask)
                result.postTask();
        }
        else {
            console.warn(i18next_1.default.t('ARTIFACT_NOT_ADDED'), { artifact });
            process.exitCode = 1;
        }
    }
}
exports.add = add;
//# sourceMappingURL=add.js.map